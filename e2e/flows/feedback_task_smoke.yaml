appId: com.erichsen.footballcoach
---
- launchApp:
    clearState: true
    stopApp: true
- runFlow:
    when:
      visible:
        id: '^notifications\.notNowButton$'
    commands:
      - tapOn:
          id: '^notifications\.notNowButton$'
- openLink: "footballcoach:///(tabs)/profile"
- runFlow:
    when:
      visible:
        id: '^auth\.login\.emailInput$'
    commands:
      - tapOn:
          id: '^auth\.login\.emailInput$'
      - inputText: "${MAESTRO_EMAIL}"
      - tapOn:
          id: '^auth\.login\.passwordInput$'
      - inputText: "${MAESTRO_PASSWORD}"
      - tapOn:
          id: '^auth\.login\.submitButton$'
- openLink: "footballcoach:///(tabs)/(home)"
- extendedWaitUntil:
    visible:
      id: '^home\.screen$'
    timeout: 30000
- runFlow:
    when:
      visible:
        id: '^home\.feedbackTaskButton\.incomplete$'
    commands:
      - tapOn:
          id: '^home\.feedbackTaskButton\.incomplete$'
          index: 0
- runFlow:
    when:
      visible:
        id: '^home\.feedbackTaskButton\.completed$'
    commands:
      - tapOn:
          id: '^home\.feedbackTaskButton\.completed$'
          index: 0
- extendedWaitUntil:
    visible:
      id: '^feedback\.scoreInput$'
    timeout: 15000
- tapOn:
    id: '^feedback\.scoreOption\.7$'
- tapOn:
    id: '^feedback\.noteInput$'
- inputText: "${MAESTRO_FEEDBACK_NOTE}"
- tapOn:
    id: '^feedback\.saveButton$'
- extendedWaitUntil:
    visible:
      id: '^home\.feedbackTaskButton\.completed$'
    timeout: 15000
- tapOn:
    id: '^home\.feedbackTaskButton\.completed$'
    index: 0
- extendedWaitUntil:
    visible:
      id: '^feedback\.persistedState\.loaded$'
    timeout: 15000
- assertVisible:
    id: '^feedback\.selectedScore\.7$'
    index: 0
- assertVisible:
    id: '^feedback\.persistedState\.loaded$'

